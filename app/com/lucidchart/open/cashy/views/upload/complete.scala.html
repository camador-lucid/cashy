@import com.lucidchart.open.cashy.models.{Asset, User}
@import com.lucidchart.open.cashy.views
@import com.lucidchart.open.cashy.controllers.{routes=>cashyRoutes}
@import helper._

@(
  assets: List[Tuple2[String,Asset]],
  existingAssets: List[Tuple2[String,Asset]],
  bucket: String,
  parent: String
)(
  implicit
  request: play.api.mvc.Request[_],
  buckets: Set[String],
  user: User
)

@com.lucidchart.open.cashy.views.html.layouts.main(userOption=Some(user)) {
  <div class="row">
    <h2>Upload Complete</h2>
    <div class="well">
      @if(assets.size > 0) {
        <h3>Assets that were uploaded</h3>
        @for((assetLabel, asset) <- assets) {
          <div class="uploaded-asset">
            <span>@assetLabel:</span><a href="@asset.link" target="_blank">@asset.link</a>
          </div>
        }
      }
      @if(existingAssets.size > 0) {
        <h3>Assets that already existed in cashy and were not modified</h3>
        @for((assetLabel, asset) <- existingAssets) {
          <div class="uploaded-asset">
            <span>@assetLabel:</span><a href="@asset.link" target="_blank">@asset.link</a>
          </div>
        }
      }
      <a href="@cashyRoutes.UploadController.index(Some(bucket), Some(parent))"><button class="btn btn-primary">Upload Another</button></a>
      <a href="@cashyRoutes.BrowseController.index(bucket, parent)"><button class="btn btn-primary">Browse Parent Folder</button></a>
    </div>
  </div>
}

<style>
.uploaded-asset * {
  font-size: 16px;
}
.uploaded-asset span {
  font-weight: bolder;
  display: block;
}
.uploaded-asset a {
  display: block;
}
.well > a {
  margin-top: 15px;
  display: inline-block;
}
</style>